(window["webpackJsonpcupcake-test"]=window["webpackJsonpcupcake-test"]||[]).push([[0],{14:function(e,t,r){e.exports={Wrapper:"SelectedCard_Wrapper__1e23i",BriefBookInfo:"SelectedCard_BriefBookInfo__2YeXV",OtherInfo:"SelectedCard_OtherInfo__3dEUT",Price:"SelectedCard_Price__2PwlI",CartControls:"SelectedCard_CartControls__10-dE"}},15:function(e,t,r){e.exports={Controls:"CartControls_Controls__m_XXw",MoreLess:"CartControls_MoreLess__HP2Hq",AddToCart:"CartControls_AddToCart__2L3vG"}},16:function(e,t,r){e.exports={Header:"App_Header__2oM2h",UIContainer:"App_UIContainer__1iVBt",CartIcon:"App_CartIcon__1K1b4",Cart:"App_Cart__32nP9"}},19:function(e,t,r){e.exports={Cart:"Cart_Cart__2EMkO",Empty:"Cart_Empty__2DgNb",FinalPrice:"Cart_FinalPrice__109iW"}},23:function(e,t,r){e.exports={Modal:"Modal_Modal__2siLO",Cart:"Modal_Cart__S1euL"}},34:function(e,t,r){e.exports={loader:"Spinner_loader__1HQxw",load6:"Spinner_load6__2rK7U",round:"Spinner_round__1n-l5"}},35:function(e,t,r){e.exports={Card:"ProductCard_Card__1HFZ_"}},36:function(e,t,r){e.exports={ProductsContainer:"Products_ProductsContainer__1lm0C"}},40:function(e,t,r){e.exports={Backdrop:"Backdrop_Backdrop__2Bl1I"}},46:function(e,t,r){e.exports=r(75)},56:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(17),c=r.n(o),l=r(9),i=r(8),s=r(43),u=(r(56),r(10)),d=r(34),m=r.n(d),p=function(){return n.a.createElement("div",{className:m.a.loader},"Loading...")},_=r(35),f=r.n(_),C=function(e){return n.a.createElement("section",{className:f.a.Card,onClick:function(){return e.showModal(e.index)}},n.a.createElement("h3",null,e.title),n.a.createElement("img",{src:e.img,alt:"Product"}))},b=r(36),E=r.n(b),h=r(37),O=r(38),v=r(44),I=r(39),g=r(45),j=r(23),S=r.n(j),w=r(40),k=r.n(w),T=function(e){return e.show?n.a.createElement("div",{className:k.a.Backdrop,onClick:e.clicked}):null},N=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=[S.a.Modal];return this.props.cart&&e.push(S.a.Cart),n.a.createElement(n.a.Fragment,null,n.a.createElement(T,{show:this.props.show,clicked:this.props.hide}),n.a.createElement("div",{className:e.join(" "),style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(a.Component),P=r(14),y=r.n(P),x=r(15),A=r.n(x),D=function(e){return n.a.createElement("div",null,n.a.createElement("div",{className:A.a.Controls},n.a.createElement("button",{onClick:e.removeItem,className:A.a.MoreLess},"-"),n.a.createElement("input",{type:"text",value:e.value,readOnly:!0}),n.a.createElement("button",{onClick:e.addItem,className:A.a.MoreLess},"+")),n.a.createElement("div",{className:A.a.AddToCart},n.a.createElement("button",{onClick:e.addToCart},"Add to cart")))},B="PRODUCTS_INIT_START",U=function(){return{type:"PRODUCTS_INIT_START_LOADING"}},L=function(e){return{type:"PRODUCTS_INIT_SUCCESS",response:e}},M=function(e){return{type:"PRODUCTS_INIT_FAIL",error:e}},R=Object(i.b)(null,(function(e){return{addToCart:function(t){return e(function(e){return{type:"ADD_TO_CART",order:e}}(t))}}}))((function(e){var t=Object(a.useState)(1),r=Object(u.a)(t,2),o=r[0],c=r[1];return n.a.createElement("article",{className:y.a.Wrapper},n.a.createElement("section",{className:y.a.BriefBookInfo},n.a.createElement("h2",null,e.title),n.a.createElement("img",{src:e.img,alt:"Book"})),n.a.createElement("section",{className:y.a.OtherInfo},n.a.createElement("h3",null,e.subtitle),n.a.createElement("p",null,"Some other info that could be provided for the book."),n.a.createElement("p",{className:y.a.Price},"Price: ",e.price," $"),n.a.createElement("section",{className:y.a.CartControls},n.a.createElement(D,{value:o,addItem:function(){return c(o+1)},removeItem:function(){return o>1?c(o-1):null},addToCart:function(){var t={value:o,title:e.title,price:e.price};e.addToCart(t),e.hide()}}))))})),F=Object(i.b)((function(e){return{loading:e.loading,data:e.data}}))((function(e){var t=Object(a.useState)({}),r=Object(u.a)(t,2),o=r[0],c=r[1],l=Object(a.useState)(!1),i=Object(u.a)(l,2),s=i[0],d=i[1],m=n.a.createElement(p,null);e.data&&!e.loading&&(m=e.data.map((function(t,r){return n.a.createElement(C,{img:t.image,key:t.isbn13,title:t.title,showModal:function(){c(e.data[r]),d(!0)},index:r})})));var _=n.a.createElement(N,{show:s,hide:function(){c({}),d(!1)}},n.a.createElement(R,{title:o.title,img:o.image,subtitle:o.subtitle,price:o.price,url:o.url,hide:function(){c({}),d(!1)}}));return n.a.createElement("div",{className:E.a.ProductsContainer},s&&_,m)})),H=r(16),W=r.n(H),$=r(19),G=r.n($),X=function(e){var t;t=0===e.sum?n.a.createElement("p",{className:G.a.Empty},"Sorry!",n.a.createElement("br",null),"The cart is empty!"):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:G.a.FinalPrice},"Total price: ",e.sum.toFixed(2)," $"),n.a.createElement("button",null,"Proceed to checkout"));var r=e.orders.map((function(e){return n.a.createElement("div",null,n.a.createElement("li",null,e.title,"...(","".concat(e.price," x ").concat(e.value),"): ",e.price*e.value," $"))}));return n.a.createElement("div",{className:G.a.Cart},n.a.createElement("ol",null,r),t)},Y=Object(i.b)((function(e){return{orderCount:e.order.length,orders:e.order,sum:e.sum}}),(function(e){return{initStart:function(){return e({type:B})}}}))((function(e){var t=Object(a.useState)(!1),r=Object(u.a)(t,2),o=r[0],c=r[1],l=e.initStart;Object(a.useEffect)((function(){l()}),[l]);var i=n.a.createElement(N,{show:o,hide:function(){return c(!1)},className:W.a.Cart,cart:!0},n.a.createElement(X,{orders:e.orders,sum:e.sum}));return n.a.createElement("div",null,n.a.createElement("header",{className:W.a.Header},n.a.createElement("div",{className:W.a.UIContainer},n.a.createElement("h1",null,"SomeLogo"),n.a.createElement("button",{className:W.a.CartIcon,onClick:function(){return c(!0)}},n.a.createElement("i",{className:"fa fa-shopping-cart"})," ",e.orderCount))),o&&i,n.a.createElement(F,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=r(41);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(r,!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={loading:!1,order:[],sum:0},Q=function(e,t){e.order.push(t.order);var r=Number((t.order.price*t.order.value).toFixed(2));return V({},e,{sum:e.sum+r})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCTS_INIT_START_LOADING":return V({},e,{loading:!0});case"PRODUCTS_INIT_SUCCESS":return V({},e,{loading:!1,data:t.response.data.books});case"PRODUCTS_INIT_FAIL":return V({},e,{loading:!1,error:t.error});case"ADD_TO_CART":return Q(e,t);default:return e}},z=r(12),ee=r.n(z),te=r(13),re=r(42),ae=r.n(re),ne=ee.a.mark(oe);function oe(e){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.a)(U());case 2:return e.prev=2,e.next=5,ae.a.get("https://bookstore-27221.firebaseio.com/pack.json");case 5:return t=e.sent,e.next=8,Object(te.a)(L(t));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Object(te.a)(M(e.t0));case 14:case"end":return e.stop()}}),ne,null,[[2,10]])}var ce=ee.a.mark(le);function le(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.b)(B,oe);case 2:case"end":return e.stop()}}),ce)}var ie=l.c,se=Object(s.a)(),ue=Object(l.d)(Z,ie(Object(l.a)(se)));se.run(le);var de=n.a.createElement(i.a,{store:ue},n.a.createElement(Y,null));c.a.render(de,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.60365463.chunk.js.map